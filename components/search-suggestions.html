<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Suggestions - Frontend Kit</title>
    <link href="../libs/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="../libs/fontawesome/css/all.min.css" rel="stylesheet" />
</head>
<body class="p-4">

<!-- 13. SEARCH SUGGESTIONS - Standalone Component -->
<style>
    .demo-box { border: 2px solid #ddd; padding: 15px; border-radius: 8px; margin: 15px 0; }
    .code { background: #f8f9fa; padding: 10px; border-left: 4px solid #667eea; font-family: monospace; margin: 10px 0; font-size: 13px; }
</style>

<div class="demo-box">
    <div class="position-relative">
        <input id="searchBox" class="form-control" placeholder="Search products..." autocomplete="off" />
        <div id="suggestions" class="list-group position-absolute w-100" style="z-index:1000;display:none"></div>
    </div>
    <div class="code mt-2">Code: filter + includes, debounce, position absolute, z-index</div>
</div>

<script>
    setTimeout(() => {
        const searchData = ['iPhone 14', 'iPad Pro', 'MacBook Air', 'AirPods', 'Apple Watch', 'iMac'];
        $('#searchBox').on('keyup', Utils.debounce(function() {
            const kw = $(this).val().toLowerCase();
            const sug = $('#suggestions');
            if (!kw) return sug.hide();
            const flt = searchData.filter(i => i.toLowerCase().includes(kw));
            console.log('Keyword:', kw, 'Found:', flt.length);
            if (flt.length) {
                sug.html(flt.map(i => `<button class="list-group-item list-group-item-action search-item">${i}</button>`).join(''));
                sug.show();
            } else {
                sug.hide();
            }
        }, 300));
        $(document).on('click', '.search-item', function() { $('#searchBox').val($(this).text()); $('#suggestions').hide(); });
        $(document).on('click', (e) => {
            if (!$(e.target).closest('#searchBox').length && !$(e.target).closest('#suggestions').length) {
                $('#suggestions').hide();
            }
        });
    }, 0);
</script>

<script src="../libs/jquery/jquery-3.7.1.min.js"></script>
<script src="../libs/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="../js/validator.js"></script>
<script src="../js/utils.js"></script>
<script src="../js/components.js"></script>
</body>
</html>
